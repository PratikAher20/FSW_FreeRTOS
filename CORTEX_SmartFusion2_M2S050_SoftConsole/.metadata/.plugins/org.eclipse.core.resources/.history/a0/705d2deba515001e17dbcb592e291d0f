
#include "Demo_Tasks/demo_tasks.h"
#include "timers.h"

#ifndef __cmd_
#define __cmd_

#define MAX_CMD_PARAM 10

uint8_t cmd_valid(command_t* rx_cmd);
void cmd_engine(command_t* rx_cmd);

typedef struct cmd{

	uint8_t id;
	uint16_t length;
	void (*ex_func)(uint8_t id, uint8_t opcode);

}__attribute__((packed))cmd_t;

typedef struct rx_cmd{

	uint16_t ccsds_cmd_p1;
	uint16_t ccsds_APID;
	uint8_t ccsds_time;
	uint8_t ccsds_chk_sum;

	uint8_t parameters[MAX_CMD_PARAM];

}__attribute__((packed))rx_cmd_t;



#endif
